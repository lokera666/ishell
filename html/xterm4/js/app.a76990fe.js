(function(e){function n(n){for(var o,a,c=n[0],s=n[1],l=n[2],p=0,u=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&u.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(n);while(u.length)u.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,c=1;c<t.length;c++){var s=t[c];0!==r[s]&&(o=!1)}o&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var o={},r={app:0},i=[];function a(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var d=s;i.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";t("85ec")},"199c":function(e,n,t){"use strict";(function(e){t("ac1f"),t("841c"),t("fbe4");var o=t("9693"),r=t.n(o),i=t("b49a"),a=t("03fe");n["a"]={name:"App",components:{},data:function(){return{xterm:null,fitAddon:null,rows:40,cols:100,clientId:null}},created:function(){window.setClientId=this.setClientId},mounted:function(){var e=this;window.setClientId=this.setClientId,new r.a.QWebChannel(qt.webChannelTransport,(function(e){window.core=e.objects.core}));var n=new i["Terminal"]({termName:"xterm",useStyle:!0,convertEol:!0,screenKeys:!0,cursorBlink:!0,visualBell:!0,colors:i["Terminal"].xtermColors,rendererType:"dom"});this.xterm=n,this.fitAddon=new a["FitAddon"],n.loadAddon(this.fitAddon),n.open(this.$refs["terminal"]),this.fitAddon.fit(),n.focus(),n.prompt=function(){n.write("\r\n$ ")};var t=this.getRowsAndCols();n.resize(t.cols,t.rows),window.addEventListener("resize",(function(){e.fitAddon.fit();var t=e.getRowsAndCols();n.resize(t.cols,t.rows),e.requestPtySize()})),n._initialized||(n._initialized=!0,n.onData((function(e){window.core.recieveJsMessage(e)})))},methods:{getRowsAndCols:function(){this.xterm.scrollToBottom();var n=document.documentElement.clientHeight,t=parseInt(n/18),o=e("<span>",{text:"qwertyuiopasdfghjklzxcvbnm"});e("#terminal").append(o);var r=o.width();o.remove();var i=document.body.clientWidth,a=parseInt(i/(r/26));return{rows:t,cols:a}},requestPtySize:function(){var e=this.getRowsAndCols(),n=e.rows+","+e.cols;void 0!=window.core&&window.core.setChannelRequestPtySize(n)},setClientId:function(e){this.clientId=e,this.open_websocket(),window.core.ssh2connect("")},open_websocket:function(){var e=this;if(""!=location.search)var n=/[?&]webChannelBaseUrl=([A-Za-z0-9\-:/\.]+)/.exec(location.search)[1];else n="ws://localhost:12345";var t=new WebSocket(n);t.onclose=function(){console.error("web channel closed")},t.onerror=function(e){console.error("web channel error: "+e)},t.onopen=function(){t.send(e.clientId)},t.onmessage=function(n){var t=n.data;e.xterm.write(t)}}}}}).call(this,t("1157"))},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("2b0e"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("div",{ref:"terminal",attrs:{id:"terminal"}})])},i=[],a=t("199c"),c=a["a"],s=(t("034f"),t("2877")),l=Object(s["a"])(c,r,i,!1,null,null,null),d=l.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(d)}}).$mount("#app")},"85ec":function(e,n,t){},9693:function(e,n,t){"use strict";(function(e){var n=t("7037").default;t("ac1f"),t("a9e3"),t("b0c0"),t("a434"),t("159b");var o={signal:1,propertyUpdate:2,init:3,idle:4,debug:5,invokeMethod:6,connectToSignal:7,disconnectFromSignal:8,setProperty:9,response:10},r=function(e,t){if("object"===n(e)&&"function"===typeof e.send){var r=this;this.transport=e,this.send=function(e){"string"!==typeof e&&(e=JSON.stringify(e)),r.transport.send(e)},this.transport.onmessage=function(e){var n=e.data;switch("string"===typeof n&&(n=JSON.parse(n)),n.type){case o.signal:r.handleSignal(n);break;case o.response:r.handleResponse(n);break;case o.propertyUpdate:r.handlePropertyUpdate(n);break;default:console.error("invalid message received:",e.data);break}},this.execCallbacks={},this.execId=0,this.exec=function(e,n){n?(r.execId===Number.MAX_VALUE&&(r.execId=Number.MIN_VALUE),e.hasOwnProperty("id")?console.error("Cannot exec message with property id: "+JSON.stringify(e)):(e.id=r.execId++,r.execCallbacks[e.id]=n,r.send(e))):r.send(e)},this.objects={},this.handleSignal=function(e){var n=r.objects[e.object];n?n.signalEmitted(e.signal,e.args):console.warn("Unhandled signal: "+e.object+"::"+e.signal)},this.handleResponse=function(e){e.hasOwnProperty("id")?(r.execCallbacks[e.id](e.data),delete r.execCallbacks[e.id]):console.error("Invalid response message received: ",JSON.stringify(e))},this.handlePropertyUpdate=function(e){for(var n in e.data){var t=e.data[n],i=r.objects[t.object];i?i.propertyUpdate(t.signals,t.properties):console.warn("Unhandled property update: "+t.object+"::"+t.signal)}r.exec({type:o.idle})},this.debug=function(e){r.send({type:o.debug,data:e})},r.exec({type:o.init},(function(e){for(var n in e)new i(n,e[n],r);for(var n in r.objects)r.objects[n].unwrapProperties();t&&t(r),r.exec({type:o.idle})}))}else console.error("The QWebChannel expects a transport object with a send function and onmessage callback property. Given is: transport: "+n(e)+", transport.send: "+n(e.send))};function i(e,n,t){this.__id__=e,t.objects[e]=this,this.__objectSignals__={},this.__propertyCache__={};var r=this;function a(e,n){var i=e[0],a=e[1];r[i]={connect:function(e){"function"===typeof e?(r.__objectSignals__[a]=r.__objectSignals__[a]||[],r.__objectSignals__[a].push(e),n||"destroyed"===i||t.exec({type:o.connectToSignal,object:r.__id__,signal:a})):console.error("Bad callback given to connect to signal "+i)},disconnect:function(e){if("function"===typeof e){r.__objectSignals__[a]=r.__objectSignals__[a]||[];var c=r.__objectSignals__[a].indexOf(e);-1!==c?(r.__objectSignals__[a].splice(c,1),n||0!==r.__objectSignals__[a].length||t.exec({type:o.disconnectFromSignal,object:r.__id__,signal:a})):console.error("Cannot find connection of signal "+i+" to "+e.name)}else console.error("Bad callback given to disconnect from signal "+i)}}}function c(e,n){var t=r.__objectSignals__[e];t&&t.forEach((function(e){e.apply(e,n)}))}function s(e){var n=e[0],a=e[1];r[n]=function(){for(var e,n=[],c=0;c<arguments.length;++c){var s=arguments[c];"function"===typeof s?e=s:s instanceof i&&void 0!==t.objects[s.__id__]?n.push({id:s.__id__}):n.push(s)}t.exec({type:o.invokeMethod,object:r.__id__,method:a,args:n},(function(n){if(void 0!==n){var t=r.unwrapQObject(n);e&&e(t)}}))}}function l(e){var n=e[0],c=e[1],s=e[2];r.__propertyCache__[n]=e[3],s&&(1===s[0]&&(s[0]=c+"Changed"),a(s,!0)),Object.defineProperty(r,c,{configurable:!0,get:function(){var e=r.__propertyCache__[n];return void 0===e&&console.warn('Undefined value in property cache for property "'+c+'" in object '+r.__id__),e},set:function(e){if(void 0!==e){r.__propertyCache__[n]=e;var a=e;a instanceof i&&void 0!==t.objects[a.__id__]&&(a={id:a.__id__}),t.exec({type:o.setProperty,object:r.__id__,property:n,value:a})}else console.warn("Property setter for "+c+" called with undefined value!")}})}for(var e in this.unwrapQObject=function(e){if(e instanceof Array){for(var n=new Array(e.length),o=0;o<e.length;++o)n[o]=r.unwrapQObject(e[o]);return n}if(!e||!e["__QObject*__"]||void 0===e.id)return e;var a=e.id;if(t.objects[a])return t.objects[a];if(e.data){var c=new i(a,e.data,t);return c.destroyed.connect((function(){if(t.objects[a]===c){delete t.objects[a];var e=[];for(var n in c)e.push(n);for(var o in e)delete c[e[o]]}})),c.unwrapProperties(),c}console.error("Cannot unwrap unknown QObject "+a+" without data.")},this.unwrapProperties=function(){for(var e in r.__propertyCache__)r.__propertyCache__[e]=r.unwrapQObject(r.__propertyCache__[e])},this.propertyUpdate=function(e,n){for(var t in n){var o=n[t];r.__propertyCache__[t]=o}for(var i in e)c(i,e[i])},this.signalEmitted=function(e,n){c(e,this.unwrapQObject(n))},n.methods.forEach(s),n.properties.forEach(l),n.signals.forEach((function(e){a(e,!1)})),n.enums)r[e]=n.enums[e]}"object"===n(e)&&(e.exports={QWebChannel:r})}).call(this,t("62e4")(e))}});
//# sourceMappingURL=app.a76990fe.js.map